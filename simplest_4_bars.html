<!DOCTYPE html>
<meta charset="utf-8">
<script src="https://d3js.org/d3.v4.min.js"></script>

<style>
.bar {
  width: 25px;
  margin-right: 5px;
  background-color: #C1ADC4;
  float: left;
  cursor: pointer;
  }
 </style>

<div id="chart">
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
</div>





<!--- Add a circle using d3 -->
<script>

// create data
var numbers = [15, 8, 42, 4, 32];
var numbers2 = [5, 18, 12, 24, 12];
var numbers3 = [25, 18, 17, 22, 12, 34];

// Select all .bar children of #chart
var selection = d3.select("#chart")
  .selectAll(".bar")

// Show first barplot
selection
  .data(numbers)
  .style("height", function(d){return(d + "px")})
  .style("margin-top", function(d){return (100-d) + "px"});

// Update to second barplot
function mydata2() {
  selection
    .data(numbers2)
    .transition()
    .duration(1000)
    .style("height", function(d){return(d + "px")})
    .style("margin-top", function(d){return (100-d) + "px"});
}

// Update to the third one, that has one more item !
function mydata3() {
  selection
    .data(numbers3)
    .transition()
    .duration(1000)
    .style("height", function(d){return(d + "px")})
    .style("margin-top", function(d){return (100-d) + "px"});

  selection
    .data(numbers3)
    .enter()
    .transition()
    .duration(1000)    .append("div").attr("class", "bar")
    .style("height", function(d){return(d + "px")})
    .style("margin-top", function(d){return (100-d) + "px"});
}
mydata3()

</script>




